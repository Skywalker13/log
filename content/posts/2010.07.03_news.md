---
title: "Quoi de neuf... ~ üá´üá∑"
date: 2010-07-03
tags: [geexbox, c, libvalhalla, libplayer, enna]
description: "Donald and Daisy"
draft: false
---

Hello,

Pas beaucoup de nouvelles depuis passablement de temps. Je vais faire n√©anmoins
un petit tour en bref des quelques activit√©s sur lesquels j'ai travaill√©. Mon
activit√© sur les projets GeeXboX √† baiss√© nettement depuis quelques semaines
pour plusieurs raisons. J'ai eu 3 mois de [service civil][1] o√π j'ai qu'en m√™me
pu travailler dans mon domaine (l'informatique et plus pr√©cis√©ment la
programmation). Et de ces trois mois, sont n√©s deux petits projets h√©berg√©s sur
les serveurs GeeXboX.

## DaisyDuck & libduck

Je vous invite √† consulter le [site internet][2]. DaisyDuck est un lecteur de
livre audio [Daisy 2.02][3], bas√© sur Qt et libVLC. Il est multi-plateforme et
distribu√© aussi bien pour Windows que pour Linux. Il pourrait √©galement √™tre
adapt√© sans trop de probl√®me √† MacOSX. Mais pour des questions de temps, je me
suis arr√™t√© √† la version Windows.

![](/img/daisyduck.png)

Il existe de "nombreux" (beaucoup de commerciaux aussi) programmes de lecteur de
livre Daisy. Mais la grande diff√©rence avec DaisyDuck c'est tout d'abord libVLC.
La plupart ne sont pas capables de lire une grande vari√©t√© de format, et encore
moins de protocole r√©seau. M√™me qu'en principe pouvoir lire n'importe quel
format n'est pas un respect entier des sp√©cifications. Par contre c'√©tait le but
de mon travail. Permettre la lecture de livre en ligne, ce que le logiciel est
parfaitement capable de faire, et √ßa fonctionne √† merveille. Merci √† l'√©quipe de
VideoLAN.

Le deuxi√®me petit projet est donc libduck. Il est √©galement pr√©sent√© sur le site
internet de DaisyDuck. Son but est de r√©aliser le "parsing" des fichiers Daisy
2.02.

> Malheureusement je n'ai pas utilis√© libplayer comme base √† DaisyDuck. La
> raison principale est que libplayer n'est pas encore tr√®s utilisable
> (compilable) pour Windows pour diff√©rentes raisons techniques. Et faute de
> temps, je ne pouvais pas me permettre de travailler sur le port de libplayer
> dans mon temps destin√© √† mon service civil.

## Valhalla

Bien que j'ai termin√© le service civil depuis fin mai, il me fallait √©galement
trouver un emploi. Et depuis mi juin, j'effectue des trajets relativement longs
par jour. Mon temps libre en soir√©e est devenu presque nul. Je me motive alors √†
travailler sur les projets GeeXboX, dans le train. Et faut bien l'avouer, c'est
difficile d'avancer vite. Mais √ßa avance qu'en m√™me, et sur libvalhalla cette
fois ci.

J'ai commenc√© s√©rieusement √† ajouter le support des langues pour les
m√©ta-donn√©es. Le patch devrait arriver tr√®s vite, peut √™tre m√™me demain. Par
contre ce n'est pas encore complet. Je dois adapter les fonctions pour les
s√©lections des m√©ta-donn√©es afin de pouvoir filtrer sur les langues, il me faut
aussi encore impl√©menter le support des grabbers multi-lingues. Ou tout du
moins, pouvoir param√©trer les grabbers multi-lingues pour r√©cup√©rer les donn√©es
dans une langue sp√©cifique. Au moment o√π j'√©cris ces lignes, j'ai uniquement
ajout√© le support des langues dans la base de donn√©e, et adapt√© les grabbers
afin que l'information de langue soit correctement indiqu√©e avec les
meta-donn√©es. Par exemple, le grabber Allocine indique ainsi du "fr" pour ce qui
est des r√©sum√©s, cat√©gories, etc,.. Les autres grabbers sont en principe en "en"
et les donn√©es qui n'ont pas de langue (par exemple un codec, la taille du
fichier ou alors la r√©solution) sont indiqu√©es comme "undef". Toutes les
m√©ta-donn√©es r√©cup√©r√©es par les "parsers" sont √©galement en "undef".

Un autre projet dans lequel je veux me lancer s√©rieusement, c'est de pouvoir
parall√©liser le "downloader" et les "grabbers" pour un m√™me fichier. Afin de
r√©cup√©rer les images un peu plus vite. Mais je ne veux pas rentrer dans ce genre
d'explications avec ce poste.

## libplayer

Aux alentours de mai, j'ai int√©gr√© le support de VDPAU directement dans
libplayer. Alors non, il n'y a rien d'extraordinaire, √ßa concerne quelques
lignes. L'id√©e c'est que pour pouvoir ex√©cuter MPlayer correctement avec VDPAU,
il faut conna√Ætre les caract√©ristiques du GPU. Et pour √ßa, il faut interroger la
carte graphique. Avec GeeXboX, cela se faisait en dehors d'Enna/libplayer avec
un script et un ex√©cutable. Mais ceci n'est plus n√©cessaire, car maintenant
libplayer fait cette t√¢che de mani√®re transparente.

## Enna

Nicolas √† modifi√© en profondeur le VFS d'Enna. J'ai donc pris le temps de
retravailler le browser Valhalla. Celui-ci est d√©sormais mieux fait au niveau
des chemins d'acc√®s (je n'ai pas envie d'expliquer √ßa ici). Bref, en gros ce
browser re-fonctionne avec le nouveau VFS mais il a qu'en m√™me quelques petites
r√©gressions qui ne devraient pas √™tre trop difficiles √† corriger.

## Le projet de "hardware"

R√©aliser un set-top box GeeXboX est tr√®s nouveau et assez ambitieux. L'id√©e est
de partir de z√©ro, de la sch√©matique au PCB puis aux prototypes, pour finir avec
la distribution GeeXboX/Enna optimis√©e au mieux pour le mat√©riel. Le seul gros
obstacle actuellement c'est la difficult√© √† avoir acc√®s aux datasheets des
composants int√©ressants (NDA n√©cessaires dans quasiment tous les cas). On vise
bien s√ªr le full-HD avec si possible un petit plus par rapport aux autres
boards. Tel que par exemple des ports miniPCIe. On a les ressources techniques,
manque la doc :-). Ensuite il y aura forc√©ment le probl√®me du temps qui pourra
√™tre investi dans ce projet. Mais pour le moment je suis assez confiant.

## Pour terminer (et pour arr√™ter de parler de moi)

### Toolchain

Davide fait un gros boulot depuis plusieurs semaines. Il a pris une excellente
initiative concernant le toolchain GeeXboX. Le but est d'avoir un toolchain bas√©
sur [opkg][4]. Tout se construit via des paquetages, que se sois les d√©pendances
pour la construction du toolchain (gcc, binutils, etc‚Ä¶) que les √©l√©ments du
"target".

J'ai toujours aim√© le toolchain GeeXboX pour sa simplicit√©. On entend souvent
parler d'OpenWRT par exemple. Il est s√ªrement tr√®s bien, mais notre toolchain
c'est notre identit√©. J'ai toujours √©t√© r√©ticent √† le voir se faire remplacer
par une solution qui viendrait d'ailleurs. Alors un grand merci √† Davide pour
avoir fait ce gros job!

### Le site web

Benjamin en avait marre du site web. Je le comprend tout √† fait car j'ai
toujours eu la flemme d'y faire des modifs. Faut √™tre clair, chez GeeXboX en
principe faut un peu toucher √† tout. Mais parfois les t√¢ches comme le site, pas
grand monde √† envie d'y mettre les mains. Alors Benjamin √† basculer sur
WordPress qui simplifie grandement la vie aussi bien pour la facilit√© que pour
le design.

J'aimerais qu'en m√™me dire un mot sur l'ancien site. Il avait une particularit√©
en comparaison √† beaucoup d'autres sites internet. Ce bon vieux site √©tait
enti√®rement r√©alis√© en XML+XSL (un tr√®s bel exemple et tr√®s professionnel). Bien
s√ªr les sources sont toujours bien au chaud, dans les [d√©pots Mercurial][5].

### Enna

Nicolas a fait diverses modifications sur Enna en plus du VFS. N√©anmoins je n'ai
pas encore pu compiler ces derni√®res modifs :-P. Faute de temps principalement,
car je dois mettre √† jour les EFL.

A bient√¥t,  
Mathieu SCHROETER

[1]: http://www.servicecivil.ch/pgs/scbref.html
[2]: http://daisy.geexbox.org/
[3]: http://en.wikipedia.org/wiki/DAISY_Digital_Talking_Book
[4]: http://code.google.com/p/opkg/
[5]: http://hg.geexbox.org/site/
